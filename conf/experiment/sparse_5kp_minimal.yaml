# @package _global_
# Experiment: Minimal+ 5 keypoints (ears added to basic 3)
#
# Keypoints: nose, L/R ears, neck, tail_root
# Adds bilateral ear points to minimal setup for better head orientation.
#
# Usage:
#   Debug:  ./run_experiment.sh sparse_5kp_minimal --debug
#   Full:   ./run_experiment.sh sparse_5kp_minimal

defaults:
  - override /dataset: markerless

experiment_name: sparse_5kp_minimal
experiment_description: "6-view with 5 keypoints (nose, ears, neck, tail)"

data:
  views_to_use: [0, 1, 2, 3, 4, 5]

fitter:
  render_cameras: [0, 1, 2, 3, 4, 5]
  use_keypoints: true
  keypoint_num: 22
  # Minimal+ keypoints (GT annotation indices):
  #   0: L_ear, 1: R_ear, 2: nose, 3: neck, 5: tail_root
  sparse_keypoint_indices: [0, 1, 2, 3, 5]
  start_frame: 0
  end_frame: 100
  interval: 1
  with_render: true

optim:
  solve_step0_iters: 15
  solve_step1_iters: 140
  solve_step2_iters: 45

loss_weights:
  theta: 4.5
  "3d": 2.5
  "2d": 0.45
  bone: 0.9
  scale: 0.9
  chest_deformer: 0.1
  stretch: 1.0
  temp: 0.32
  temp_d: 0.28
  mask_step0: 0.0
  mask_step1: 400.0
  mask_step2: 3000.0

keypoint_weights:
  default: 0.0
  # Head - highest priority (ears for orientation)
  idx_0: 4.5    # L_ear
  idx_1: 4.5    # R_ear
  idx_2: 5.0    # Nose
  # Body anchor points
  idx_3: 5.0    # Neck
  idx_5: 3.5    # Tail root
  tail_step2: 10.0
